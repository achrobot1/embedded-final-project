#-----------------------------------------------------------
# Vivado v2018.2 (64-bit)
# SW Build 2258646 on Thu Jun 14 20:02:38 MDT 2018
# IP Build 2256618 on Thu Jun 14 22:10:49 MDT 2018
# Start of session at: Sat Dec 14 11:40:41 2019
# Process ID: 7660
# Current directory: /home/user/Documents/embedded-final-project/project-code
# Command line: vivado
# Log file: /home/user/Documents/embedded-final-project/project-code/vivado.log
# Journal file: /home/user/Documents/embedded-final-project/project-code/vivado.jou
#-----------------------------------------------------------
start_gui
create_project guitar_tone /home/user/Documents/embedded-final-project/project-code/guitar_tone -part xc7z010clg400-1
set_property board_part digilentinc.com:zybo:part0:1.0 [current_project]
set_property target_language VHDL [current_project]
add_files -fileset constrs_1 -norecurse /home/user/Documents/embedded-final-project/project-code/ssd.xdc
set_property  ip_repo_paths  {/home/user/Documents/embedded-final-project/project-code/audio_ip /home/user/Documents/embedded-final-project/project-code/lms_ip /home/user/Documents/embedded-final-project/project-code/nco_ip} [current_project]
update_ip_catalog
set_property  ip_repo_paths  {/home/user/Documents/embedded-final-project/project-code/lms_ip /home/user/Documents/embedded-final-project/project-code/nco_ip} [current_project]
update_ip_catalog
set_property  ip_repo_paths  /home/user/Documents/embedded-final-project/project-code/nco_ip [current_project]
update_ip_catalog
set_property  ip_repo_paths  {} [current_project]
update_ip_catalog
set_property  ip_repo_paths  {/home/user/Documents/embedded-final-project/project-code/nco_ip /home/user/Documents/embedded-final-project/project-code/audio_ip /home/user/Documents/embedded-final-project/project-code/lms_ip} [current_project]
update_ip_catalog
update_ip_catalog
create_bd_design "ip_design"
update_compile_order -fileset sources_1
update_ip_catalog -rebuild
update_ip_catalog
update_ip_catalog
startgroup
create_bd_cell -type ip -vlnv xilinx.com:hls:nco:1.0 nco_0
endgroup
startgroup
create_bd_cell -type ip -vlnv ac.uk:user:lms_pcore:1.0 lms_pcore_0
endgroup
startgroup
create_bd_cell -type ip -vlnv xilinx.com:ip:processing_system7:5.5 processing_system7_0
endgroup
apply_bd_automation -rule xilinx.com:bd_rule:processing_system7 -config {make_external "FIXED_IO, DDR" apply_board_preset "1" Master "Disable" Slave "Disable" }  [get_bd_cells processing_system7_0]
startgroup
apply_bd_automation -rule xilinx.com:bd_rule:axi4 -config { Clk_master {Auto} Clk_slave {Auto} Clk_xbar {Auto} Master {/processing_system7_0/M_AXI_GP0} Slave {/nco_0/s_axi_AXILiteS} intc_ip {New AXI Interconnect} master_apm {0}}  [get_bd_intf_pins nco_0/s_axi_AXILiteS]
apply_bd_automation -rule xilinx.com:bd_rule:axi4 -config { Clk_master {Auto} Clk_slave {Auto} Clk_xbar {Auto} Master {/processing_system7_0/M_AXI_GP0} Slave {/lms_pcore_0/AXI4_Lite} intc_ip {New AXI Interconnect} master_apm {0}}  [get_bd_intf_pins lms_pcore_0/AXI4_Lite]
apply_bd_automation -rule xilinx.com:bd_rule:clkrst -config {Clk "/processing_system7_0/FCLK_CLK0 (100 MHz)" }  [get_bd_pins lms_pcore_0/IPCORE_CLK]
endgroup
startgroup
create_bd_cell -type ip -vlnv xilinx.com:xilinx:zybo_audio_ctrl:1.0 zybo_audio_ctrl_0
endgroup
apply_bd_automation -rule xilinx.com:bd_rule:axi4 -config { Clk_master {/processing_system7_0/FCLK_CLK0 (100 MHz)} Clk_slave {Auto} Clk_xbar {/processing_system7_0/FCLK_CLK0 (100 MHz)} Master {/processing_system7_0/M_AXI_GP0} Slave {/zybo_audio_ctrl_0/S_AXI} intc_ip {/ps7_0_axi_periph} master_apm {0}}  [get_bd_intf_pins zybo_audio_ctrl_0/S_AXI]
regenerate_bd_layout
startgroup
make_bd_pins_external  [get_bd_cells zybo_audio_ctrl_0]
make_bd_intf_pins_external  [get_bd_cells zybo_audio_ctrl_0]
endgroup
startgroup
set_property -dict [list CONFIG.PCW_FPGA1_PERIPHERAL_FREQMHZ {12.288} CONFIG.PCW_EN_CLK1_PORT {1} CONFIG.PCW_QSPI_GRP_SINGLE_SS_ENABLE {1} CONFIG.PCW_I2C0_PERIPHERAL_ENABLE {1}] [get_bd_cells processing_system7_0]
endgroup
startgroup
make_bd_intf_pins_external  [get_bd_intf_pins processing_system7_0/IIC_0]
endgroup
startgroup
make_bd_pins_external  [get_bd_pins processing_system7_0/FCLK_CLK1]
endgroup
startgroup
create_bd_cell -type ip -vlnv xilinx.com:ip:axi_gpio:2.0 axi_gpio_0
endgroup
apply_bd_automation -rule xilinx.com:bd_rule:axi4 -config { Clk_master {/processing_system7_0/FCLK_CLK0 (100 MHz)} Clk_slave {Auto} Clk_xbar {/processing_system7_0/FCLK_CLK0 (100 MHz)} Master {/processing_system7_0/M_AXI_GP0} Slave {/axi_gpio_0/S_AXI} intc_ip {/ps7_0_axi_periph} master_apm {0}}  [get_bd_intf_pins axi_gpio_0/S_AXI]
startgroup
set_property -dict [list CONFIG.C_GPIO_WIDTH {1}] [get_bd_cells axi_gpio_0]
endgroup
startgroup
make_bd_intf_pins_external  [get_bd_intf_pins axi_gpio_0/GPIO]
endgroup
startgroup
create_bd_cell -type ip -vlnv xilinx.com:ip:axi_gpio:2.0 axi_gpio_1
endgroup
apply_bd_automation -rule xilinx.com:bd_rule:axi4 -config { Clk_master {/processing_system7_0/FCLK_CLK0 (100 MHz)} Clk_slave {Auto} Clk_xbar {/processing_system7_0/FCLK_CLK0 (100 MHz)} Master {/processing_system7_0/M_AXI_GP0} Slave {/axi_gpio_1/S_AXI} intc_ip {/ps7_0_axi_periph} master_apm {0}}  [get_bd_intf_pins axi_gpio_1/S_AXI]
startgroup
set_property -dict [list CONFIG.C_GPIO_WIDTH {8} CONFIG.C_GPIO2_WIDTH {4} CONFIG.C_IS_DUAL {1} CONFIG.C_ALL_INPUTS_2 {1} CONFIG.GPIO2_BOARD_INTERFACE {sws_4bits} CONFIG.C_ALL_OUTPUTS {1}] [get_bd_cells axi_gpio_1]
endgroup
apply_bd_automation -rule xilinx.com:bd_rule:board -config { Board_Interface {sws_4bits ( 4 Switches ) } Manual_Source {Auto}}  [get_bd_intf_pins axi_gpio_1/GPIO2]
startgroup
make_bd_pins_external  [get_bd_pins axi_gpio_1/gpio_io_o]
endgroup
set_property name seven_segment [get_bd_ports gpio_io_o_0]
regenerate_bd_layout
save_bd_design
make_wrapper -files [get_files /home/user/Documents/embedded-final-project/project-code/guitar_tone/guitar_tone.srcs/sources_1/bd/ip_design/ip_design.bd] -top
add_files -norecurse /home/user/Documents/embedded-final-project/project-code/guitar_tone/guitar_tone.srcs/sources_1/bd/ip_design/hdl/ip_design_wrapper.vhd
launch_runs impl_1 -to_step write_bitstream -jobs 4
wait_on_run impl_1
open_run impl_1
file mkdir /home/user/Documents/embedded-final-project/project-code/guitar_tone/guitar_tone.sdk
file copy -force /home/user/Documents/embedded-final-project/project-code/guitar_tone/guitar_tone.runs/impl_1/ip_design_wrapper.sysdef /home/user/Documents/embedded-final-project/project-code/guitar_tone/guitar_tone.sdk/ip_design_wrapper.hdf

launch_sdk -workspace /home/user/Documents/embedded-final-project/project-code/guitar_tone/guitar_tone.sdk -hwspec /home/user/Documents/embedded-final-project/project-code/guitar_tone/guitar_tone.sdk/ip_design_wrapper.hdf
